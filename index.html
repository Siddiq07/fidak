<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Art Fest | Home</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

<style>
:root{
  --gold:#f5c842;
  --dark:#0f0f0f;
  --glass:rgba(255,255,255,.08);
}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:
    linear-gradient(rgba(0,0,0,.75),rgba(0,0,0,.75)),
    url("https://images.unsplash.com/photo-1500530855697-b586d89ba3ee");
  background-size:cover;
  background-position:center;
  color:#fff;
}
.navbar{
  background:transparent;
}
.logo{
  height:48px;
}
.hero{
  text-align:center;
  padding:80px 12px 40px;
}
.hero h1{
  font-size:clamp(36px,6vw,64px);
  font-weight:900;
  letter-spacing:.5px;
}
.hero p{
  color:#d1d5db;
  letter-spacing:3px;
  margin-bottom:6px;
}
.hero .date{
  font-size:18px;
  margin-top:10px;
}
.btn-main{
  background:var(--gold);
  color:#111;
  font-weight:700;
  border-radius:999px;
  padding:14px 32px;
}
.btn-outline-main{
  border:2px solid #fff;
  color:#fff;
  border-radius:999px;
  padding:14px 32px;
}
.stat-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:16px;
  max-width:700px;
  margin:40px auto 0;
}
.stat{
  background:var(--glass);
  border:1px solid rgba(255,255,255,.15);
  border-radius:18px;
  padding:20px;
  backdrop-filter:blur(6px);
}
.stat h2{
  color:var(--gold);
  font-weight:900;
  font-size:36px;
}
.login-grid{
  max-width:900px;
  margin:60px auto;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:24px;
}
.login-card{
  background:var(--glass);
  border:1px solid rgba(255,255,255,.15);
  border-radius:20px;
  padding:30px;
  text-align:center;
  transition:.25s;
}
.login-card:hover{
  transform:translateY(-6px);
}
.login-card i{
  font-size:46px;
  color:var(--gold);
}
.scoreboard{
  max-width:900px;
  margin:40px auto;
}
.score-card{
  background:var(--glass);
  border-radius:14px;
  padding:14px 18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}
.score-card strong{
  font-size:18px;
}
footer{
  text-align:center;
  padding:20px;
  color:#9ca3af;
}
</style>
</head>
<body>

<nav class="navbar navbar-dark px-3">
  <img src="logo.png" class="logo" alt="Logo">
</nav>

<section class="hero">
  <p>RECTIFYING THE VIRTUOUS</p>
  <h1>Art Fest</h1>
  <div class="date">2025 ‚Ä¢ DEC 13‚Äì14</div>

  <div class="d-flex justify-content-center gap-3 mt-4 flex-wrap">
    <a href="#login" class="btn btn-main">GO TO MATRIX</a>
  </div>

  <div class="stat-grid">
    <div class="stat">
      <h2 id="statStudents">0</h2>
      <div>STUDENTS</div>
    </div>
    <div class="stat">
      <h2 id="statEvents">0</h2>
      <div>PROGRAMS</div>
    </div>
    <div class="stat">
      <h2 id="statTeams">0</h2>
      <div>TEAMS</div>
    </div>
    <div class="stat">
      <h2 id="statStages">0</h2>
      <div>STAGES</div>
    </div>
  </div>
</section>

<!-- LOGIN -->
<section id="login" class="login-grid">
  <div class="login-card">
    <i class="bi bi-shield-lock"></i>
    <h4 class="mt-3">Admin</h4>
    <p class="small text-muted">Full control</p>
    <a href="admin.html" class="btn btn-main w-100 mt-2">Login</a>
  </div>

  <div class="login-card">
    <i class="bi bi-people-fill"></i>
    <h4 class="mt-3">Leader</h4>
    <p class="small text-muted">Team management</p>
    <a href="leader.html" class="btn btn-main w-100 mt-2">Login</a>
  </div>

  <div class="login-card">
    <i class="bi bi-person-fill"></i>
    <h4 class="mt-3">Participant</h4>
    <p class="small text-muted">Your results</p>
    <a href="participant.html" class="btn btn-main w-100 mt-2">Login</a>
  </div>
</section>

<!-- LIVE SCORE -->
<section class="scoreboard">
  <h3 class="text-center mb-3">üèÜ Live Team Scores</h3>
  <div id="scoreList"></div>
</section>

<footer>
  ¬© <span id="year"></span> Art Fest
</footer>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBMDGNukeonNa_-PWB-5cTO4GMofd3vyiM",
  authDomain: "gen7-3e139.firebaseapp.com",
  databaseURL: "https://gen7-3e139-default-rtdb.firebaseio.com",
  projectId: "gen7-3e139",
  storageBucket: "gen7-3e139.firebasestorage.app",
  messagingSenderId: "578412378966",
  appId: "1:578412378966:web:f76c1e69a01a4bbfbd74f7"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const $ = id => document.getElementById(id);

onValue(ref(db,'students'), s=> $('statStudents').textContent = Object.keys(s.val()||{}).length);
onValue(ref(db,'events'), s=> $('statEvents').textContent = Object.keys(s.val()||{}).length);
onValue(ref(db,'teams'), s=> $('statTeams').textContent = Object.keys(s.val()||{}).length);
onValue(ref(db,'stages'), s=> $('statStages').textContent = Object.keys(s.val()||{}).length);

/* live score (only published results affect team score in admin) */
onValue(ref(db,'teams'), snap=>{
  const list = $('scoreList');
  list.innerHTML='';
  const teams = Object.values(snap.val()||{}).sort((a,b)=>(b.score||0)-(a.score||0));
  teams.forEach(t=>{
    const div = document.createElement('div');
    div.className='score-card';
    div.innerHTML=`<strong>${t.name}</strong><span>${t.score||0}</span>`;
    list.appendChild(div);
  });
});

$('year').textContent = new Date().getFullYear();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>